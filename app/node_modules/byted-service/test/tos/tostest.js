const  {Tos} = require('../../');
var fs = require('fs');

var options ={
    bucket:'ies.live.magic',
    accessKey: 'IZZIZPK0QWKNZK8L1RQF',
    printAddress:true
}
var tos = new Tos(options);
var filename = './share.png';

new Promise( (resolve,reject) => {
    fs.readFile(filename,function(err,buffer){
        if(err) reject(error);
        resolve(buffer);
    })
}).then(buf => {
    return tos.upload(buf, "myimg/sdfds~400x400.png")
}).then(res => {
    console.log(res);
}).catch(e => {
    console.log(e);
})
// .then( () => {
//     return tos.getPrefixList('my',2);
// }).then( (res) => {
//     console.log(res);
// }).then(() => {
//     return tos.delete('myimg')
// }).catch((e)=>{
//     console.log(e)
// })
// tos.delete('myimg')