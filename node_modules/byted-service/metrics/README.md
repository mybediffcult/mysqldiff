# Metrics
## 1. 创建Metrics实例
```js
const { Metrics } = require('byted-service');
const metrics = new Metrics(options);
```
options
* `host`：Metric Server主机地址，默认为127.0.0.1
* `port`：Metric Server主机端口，默认为9123
* `defaultPrefix`：metric点名称默认前缀，默认为toutiao
* `bufferSize`：缓冲区大小，默认为1，最大值为500，如果超过500则采用最大值。
* `flushInterval`：刷新缓冲区时间间隔，单位为ms。

## 2. 打点
```js
// Counter类型打点
metrics.emitCounter(name, value, prefix, tags);

// Timer类型打点
metrics.emitTimer(name, value, prefix, tags);

// Store类型打点
metrics.emitStore(name, value, prefix, tags);
```
参数说明
* `name`：打点名称
* `value`：打点值
* `prefix`：打点名称前缀，如果不指定则使用defaultPrefix
* `tags`：打点tag键值对

## 3. 示列
```js
const { Metrics } = require('byted-service');

const metrics = new Metrics({
  host: '127.0.0.1',
  port: 9123,
  defaultPrefix: 'ies.fe',
  bufferSize: 10,
  flushInterval: 3 * 1000
});

metrics.emitCounter('byted-service.metrics.test.from.local', 1, 'ies.fe', {name: 'test'});   
```